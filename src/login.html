<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style/variable.css" />
    <link rel="stylesheet" href="style/login.css" />
    <link rel="icon" href="img/favicon.svg" type="image/svg" />
    <title>Page de login</title>
  </head>
  <body>
    <div class="container">
      <div class="stagelink">StageLink</div>
      <div class="boutons">
        <button id="registerBtn" onclick="showForm('register')">
          S'inscrire</button
        ><button id="loginBtn" onclick="showForm('login')">Se connecter</button>
      </div>

      <div id="loginForm" class="form-container">
        <div class="texte-intro">
          Ravi de vous retrouver sur StageLink !<br />
          Retrouvez toutes vos offres et candidatures en vous connectant :
        </div>
        <form action="test.html" method="get">
          <div class="bloc-input">
            <label for="">Adresse mail <input type="email" required /></label>
            <label for=""
              >Mot de passe <input type="password" required
            /></label>
          </div>
          <button type="submit">Je me connecte</button>
        </form>
      </div>

      <div id="registerForm" class="form-container">
        <div class="texte-intro">
          En vous inscrivant à StageLink, nous vous aidons à trouver votre job
          ou créer des offres pour votre entreprise.
        </div>
        <form action="test.html" method="get">
          <div class="radio">
            <input
              type="radio"
              id="etudiant"
              name="userType"
              value="etudiant"
              onclick="toggleFields('etudiant')"
              checked
            />
            <label for="etudiant">Étudiant</label>

            <input
              type="radio"
              id="entreprise"
              name="userType"
              value="entreprise"
              onclick="toggleFields('entreprise')"
            />
            <label for="entreprise">Entreprise</label>

            <input
              type="radio"
              id="pilote"
              name="userType"
              value="pilote"
              onclick="toggleFields('pilote')"
            />
            <label for="pilote">Pilote</label>
          </div>

          <div id="etudiantFields" class="dynamic-fields">
            <div class="_2bloc">
              <label for="">Prénom <input type="text" required /></label>
              <label for="">Nom <input type="text" required /></label>
            </div>
            <div class="_2bloc">
              <label for="">Adresse mail <input type="email" required /></label>
              <label for=""
                >Mot de passe <input type="password" required
              /></label>
            </div>
          </div>

          <div id="entrepriseFields" class="dynamic-fields">
            <div class="_2bloc2">
              <label for=""
                >Nom de l'entreprise <input type="text" required
              /></label>
            </div>
            <div class="_2bloc">
              <label for="">Adresse mail <input type="email" required /></label>
              <label for=""
                >Mot de passe <input type="password" required
              /></label>
            </div>
          </div>

          <div id="piloteFields" class="dynamic-fields">
            <div class="_2bloc">
              <label for="">Nom <input type="text" required /></label>
              <label for="">Prénom <input type="text" required /></label>
            </div>
            <div class="_2bloc">
              <label for="">Adresse mail <input type="email" required /></label>
              <label for=""
                >Mot de passe <input type="password" required
              /></label>
            </div>
          </div>

          <div class="cookie">
            <input
              type="checkbox"
              id="cookie"
              name="userType"
              value=""
              required
            />
            <label for="cookie">
              <span class="cookie-label"
                >J'accepte les <a href="CGU.html" class="soulignage">CGU</a> et
                déclare avoir pris connaissance de la
              </span>
              <span class="cookie-label">
                <a href="politique-donnees.html" class="soulignage"
                  >politique de protection des données</a
                >
                du site</span
              >
            </label>
          </div>
          <button type="submit">S'inscrire</button>
        </form>
      </div>
    </div>
  </body>
  <script>
    function showForm(formType) {
      document
        .getElementById("loginForm")
        .classList.toggle("active-content", formType === "login");
      document
        .getElementById("registerForm")
        .classList.toggle("active-content", formType === "register");

      document
        .getElementById("loginBtn")
        .classList.toggle("active", formType === "login");
      document
        .getElementById("registerBtn")
        .classList.toggle("active", formType === "register");

      const inactiveForm = formType === "login" ? "registerForm" : "loginForm";
      document
        .querySelectorAll(`#${inactiveForm} input`)
        .forEach((input) => (input.value = ""));
    }

    function toggleFields(userType) {
      let etudiantFields = document.getElementById("etudiantFields");
      let entrepriseFields = document.getElementById("entrepriseFields");
      let piloteFields = document.getElementById("piloteFields");

      etudiantFields.style.display = "none";
      entrepriseFields.style.display = "none";
      piloteFields.style.display = "none";

      disableFields(etudiantFields, true);
      disableFields(entrepriseFields, true);
      disableFields(piloteFields, true);

      if (userType === "etudiant") {
        etudiantFields.style.display = "flex";
        disableFields(etudiantFields, false);
      } else if (userType === "entreprise") {
        entrepriseFields.style.display = "flex";
        disableFields(entrepriseFields, false);
      } else if (userType === "pilote") {
        piloteFields.style.display = "flex";
        disableFields(piloteFields, false);
      }
    }

    function disableFields(container, disable) {
      if (container) {
        let inputs = container.querySelectorAll("input");
        inputs.forEach((input) => (input.disabled = disable));
      }
    }

    window.onload = function () {
      showForm("register");
      toggleFields("etudiant");
    };
  </script>
</html>
